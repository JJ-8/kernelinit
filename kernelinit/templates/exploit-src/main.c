#define _GNU_SOURCE
#include <stdio.h>
#include <stdlib.h>
#include <stdint.h>
#include <string.h>
#include <unistd.h>
#include <fcntl.h>
#include <poll.h>
#include <sys/ioctl.h>
#include <sys/syscall.h>
#include <sys/mman.h>

int open_file () {
    int fd = open("/dev/vuln", O_RDWR);
    if (fd < 0) {
        perror("open");
        exit(-1);
    }
    return fd;
}

void x64dump(char *buf, uint32_t num) {
    uint64_t *buf64 =  (uint64_t *)buf;
    printf("[--dump--] start\n");
    for (uint32_t i = 0; i < num; i++) {
        if (i%2 == 0) {
            printf("%p: ", &buf64[i]);
        }
        printf("0x%016lx    ",buf64[i]);
        if (i%2 == 1 && i+1 != num) {
            printf("\n");
        }
    }
    printf("\n[--dump--] end\n");
}

int fd;

int main () {
    fd = open_file();
    return 0;
}
